# About
This repo holds the files used for a website exhibiting part of my fossils collection. The site can be accessed at [apolithomata.com](https://apolithomata.com)

# Files documentation

## images/
Contains the images used in the website.

## journal/
Contains handwritten journal entries documenting research, experiments, and conservation work. Includes:
### entries/
Markdown files with journal entries in multiple languages (denoted by -EL, -EN, -GRC suffixes).
### media/
Images and media files accompanying journal entries.
### index.html / index-<lang>.html
Auto-generated index page for the journal.
### Individual entry pages (auto-generated)
HTML pages for each journal entry in multiple language versions.

## jsondata/
Contains `.json` files that contain static data:
### dict.json
Dictionary of terms common to all pages. Manually maintained.
### geochronology.json
Contains structured data about fossil localities used in the site. Manually maintained.
### pages.json
Auto-generated by `pyscripts/generate_pages_json.py`. Contains the  titles and paths to pages in `tree/`, used by the search script in `header.js`.
### samples_info.json
Information about fossil samples displayed in the site, such as locality, image samples and their descriptions, etc. Manually maintained.
### taxonomy.json
A taxonomic tree of taxon pages contained in the website. It also contains metadata such as whether a taxon is extinct, and their descriptions. Manually maintained

## localities/
A directory containing auto-generated pages describing the paleoenvironment at different localities.


## pyscripts/
Contains utility python scripts.
### site_generator/
#### templates/
Jinja templates for generating html pages and accompanying .json files.
##### _index.html.template / index.json.template_
Templates for generating the homepage.
##### _journal_entry.html.template_
Template for generating individual journal entry pages.
##### _journal_index.html.template_
Template for generating the journal index page.
##### _locality.html.template / locality.json.template_
Templates for generating locality pages.
##### _map.html.template / map.json.template_
Templates for generating the map page.
##### _taxon.html.template / taxon.json.template_
Templates for generating taxonomic pages.
##### _random-sample.js.template_
Template for generating the random sample selection script.
#### generate_site.py
Executable that will generate all auto-generated content for the website. This includes:
- files under localities/
- files under tree/
- files under journal/
- unclassified.html + unclassified.json
- jsondata/pages.json (generated by invoking ../generate_pages_json.py)
- scripts/random-sample.js (contains an auto-generated list of all samples in the site)
- map.html + map.json
#### build_journal.py
Builds the journal section from markdown files under journal/entries/. Processes handwritten entries in multiple languages.
#### sitemap_generator.py
Generates the sitemap.xml file for SEO purposes.
### generate_pages_json.py
Navigates the `tree/` and creates entries for each page it encounters, then stores the results in `jsondata/pages.json`. Should be ran every time the structure under `tree/` is updated.
### images-thumbs.py
This script needs to be tweaked before it runs. It runs on a selection of directories, scanning for image files (png and jpg/jpeg). Upon discovery, it will generate large and small (thumnbail) .webp versions of the image, as well as a JPEG image - no png images are generated. These are needed due to efficiency concerns when loading many high-quality images at once - also .webp is a more modern format for web content.
### requirements.txt
Lists the Python dependencies required to run the python scripts.

## scripts/
Contains `.js` scripts used in the website.
### header.js
Handles the dynamic generation of the header, including the search functionality, navigation links, and collapsable sidebar for taxonomy browsing.
### language.js
Handles language selection and translation for the website.
### journal.js
Handles language loading for journal pages.
### navpath.js
Generates the navigation path (breadcrumbs) for the website based on the current page.
### random-sample.js
Selects a random sample of species to display on the homepage. Relies on a static list of information for each sample and the available images. The list, together with the rest of the file are auto-generated. Any updates aimed for this file should be made in the template file (`pyscripts/site_generator/templates/random-sample.js.template`)

## templates/
Contains `header.html`, used as a "template" to load the header in every page

## tree/
Contains the hierarchical structure of the taxonomy, with one `.html` and one `.json` (translation metadata) file at each level.

### index.html / index.json
The homepage. Manually maintained

### map.html / map.json
A page that shows fossil locations on a map. Auto-generated.

### server.py
A Python script to run a local server for testing the website.

### style.css
Contains the CSS styles for the website.

### unclassified.html / unclassified.json
Page that displays fossils that I wasn't able to assign to a taxon. 
